(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["resourceConsolidation"],{"0ccb":function(t,e,n){var a=n("50c4"),r=n("1148"),i=n("1d80"),o=Math.ceil,s=function(t){return function(e,n,s){var c,l,d=String(i(e)),u=d.length,f=void 0===s?" ":String(s),h=a(n);return h<=u||""==f?d:(c=h-u,l=r.call(f,o(c/f.length)),l.length>c&&(l=l.slice(0,c)),t?d+l:l+d)}};t.exports={start:s(!1),end:s(!0)}},"0d03":function(t,e,n){var a=n("6eeb"),r=Date.prototype,i="Invalid Date",o="toString",s=r[o],c=r.getTime;new Date(NaN)+""!=i&&a(r,o,(function(){var t=c.call(this);return t===t?s.call(this):i}))},1148:function(t,e,n){"use strict";var a=n("a691"),r=n("1d80");t.exports="".repeat||function(t){var e=String(r(this)),n="",i=a(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},"159b":function(t,e,n){var a=n("da84"),r=n("fdbc"),i=n("17c2"),o=n("9112");for(var s in r){var c=a[s],l=c&&c.prototype;if(l&&l.forEach!==i)try{o(l,"forEach",i)}catch(d){l.forEach=i}}},"170a":function(t,e,n){"use strict";var a=n("fcd0"),r=n.n(a);r.a},"17c2":function(t,e,n){"use strict";var a=n("b727").forEach,r=n("b301");t.exports=r("forEach")?function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"25f0":function(t,e,n){"use strict";var a=n("6eeb"),r=n("825a"),i=n("d039"),o=n("ad6d"),s="toString",c=RegExp.prototype,l=c[s],d=i((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),u=l.name!=s;(d||u)&&a(RegExp.prototype,s,(function(){var t=r(this),e=String(t.source),n=t.flags,a=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?o.call(t):n);return"/"+e+"/"+a}),{unsafe:!0})},2616:function(t,e,n){var a=n("0363"),r=n("7463"),i=a("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},4160:function(t,e,n){"use strict";var a=n("23e7"),r=n("17c2");a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"43ce":function(t,e,n){"use strict";var a=n("ab18"),r=n.n(a);r.a},"471b":function(t,e,n){"use strict";var a=n("194a"),r=n("4fff"),i=n("faaa"),o=n("2616"),s=n("6725"),c=n("6c15"),l=n("0b7b");t.exports=function(t){var e,n,d,u,f,h=r(t),v="function"==typeof this?this:Array,m=arguments.length,p=m>1?arguments[1]:void 0,g=void 0!==p,b=0,k=l(h);if(g&&(p=a(p,m>2?arguments[2]:void 0,2)),void 0==k||v==Array&&o(k))for(e=s(h.length),n=new v(e);e>b;b++)c(n,b,g?p(h[b],b):h[b]);else for(u=k.call(h),f=u.next,n=new v;!(d=f.call(u)).done;b++)c(n,b,g?i(u,p,[d.value,b],!0):d.value);return n.length=b,n}},"484e":function(t,e,n){var a=n("a5eb"),r=n("471b"),i=n("7de7"),o=!i((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:o},{from:r})},"4d90":function(t,e,n){"use strict";var a=n("23e7"),r=n("0ccb").start,i=n("699c");a({target:"String",proto:!0,forced:i},{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"699c":function(t,e,n){var a=n("b39a4");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},"6c15":function(t,e,n){"use strict";var a=n("7168"),r=n("4180"),i=n("2c6c");t.exports=function(t,e,n){var o=a(e);o in t?r.f(t,o,i(0,n)):t[o]=n}},"74e7":function(t,e,n){t.exports=n("bc59")},"7de7":function(t,e,n){var a=n("0363"),r=a("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},t(a)}catch(c){}return n}},a06f:function(t,e,n){t.exports=n("74e7")},ab18:function(t,e,n){},b459:function(t,e,n){"use strict";var a=n("c8c4"),r=n.n(a);r.a},bc59:function(t,e,n){n("3e47"),n("484e");var a=n("764b");t.exports=a.Array.from},bf30:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resourceConsolidationIndex"},[n("div",{staticClass:"rci-header"},[n("a-breadcrumb",[n("a-breadcrumb-item",[t._v("资源合并")]),n("a-breadcrumb-item",[t._v("resource consolidation")])],1),n("div",[n("a-input-search",{staticStyle:{width:"200px"},attrs:{placeholder:"搜索"},on:{change:t.change}})],1)],1),n("div",{staticClass:"rci-body"},[n("a-tabs",{attrs:{"default-active-key":"1"}},[n("a-tab-pane",{key:"1"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"apple"}}),t._v(" Mule ")],1),n("resource-consolidation")],1),n("a-tab-pane",{key:"2"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"android"}}),t._v(" SIMU ")],1),t._v(" SIMU ")]),n("a-tab-pane",{key:"3"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"android"}}),t._v(" SIMU+ ")],1),t._v(" SIMU+ ")]),n("a-tab-pane",{key:"4"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"android"}}),t._v(" EP1 ")],1),t._v(" EP1 ")]),n("a-tab-pane",{key:"5"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"android"}}),t._v(" EP2 ")],1),t._v(" EP2 ")]),n("a-tab-pane",{key:"6"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"android"}}),t._v(" PPV ")],1),t._v(" PPV ")]),n("a-tab-pane",{key:"7"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"android"}}),t._v(" PP ")],1),t._v(" PP ")]),n("a-tab-pane",{key:"8"},[n("span",{attrs:{slot:"tab"},slot:"tab"},[n("a-icon",{attrs:{type:"android"}}),t._v(" P ")],1),t._v(" P ")])],1)],1)])},r=[],i=(n("caad"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"resourceConsolidation",staticClass:"resourceConsolidation"},[n("ul",{staticClass:"rc-ul-1"},t._l(t.mockData,(function(e,a){return n("li",{key:a,staticClass:"rc-li-1"},[n("ul",{staticClass:"rc-ul-2"},t._l(e,(function(r,i){return n("li",{key:i,staticClass:"rc-li-2",attrs:{draggable:"true","data-id":a+"-"+i}},[t._m(0,!0),n("h3",{staticClass:"rc-name"},[t._v(t._s(r.name))]),n("a-icon",0===i?{attrs:{type:"plus"},on:{click:function(n){return t.showModal(e,a)}}}:{attrs:{type:"close"},on:{click:function(n){return t.remove(e,a,r,i)}}})],1)})),0)])})),0),t.visible?[n("dialog-add",{attrs:{visible:t.visible,row:t.rowTarget},on:{"update:visible":function(e){t.visible=e},ok:t.handleOk}})]:t._e()],2)}),o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rc-handle"},[n("i",{staticClass:"css-icon icon-menu"})])}],s=(n("a434"),n("b0c0"),n("e587"));n("99af"),n("0d03"),n("d3b7"),n("ac1f"),n("25f0"),n("4d90"),n("1276"),n("1316");n("a06f"),n("2dc0");var c=n("9da2"),l=function(t){for(var e=[],n=0;n<t;n++){var a=(n+1).toString().padStart(3,"0");e.push([{name:"二级条目".concat(a)}])}return e},d=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n={name:"试验条目",children:[]},a=n.children,r=0,i=0;r<t;r++){var o=(r+1).toString().padStart(3,"0");a.push({name:"一级条目".concat(o),unfolded:!0,children:[]});for(var s=a[r].children,c=0;c<e;c++){var l=(i+1).toString().padStart(3,"0");s.push({name:"二级条目".concat(l)}),i++}}return n},u=function(t){var e=t.dataset.id.split("-"),n=Object(s["a"])(e,2),a=n[0],r=n[1];return a*=1,r*=1,[a,r]},f=function(t,e){for(var n=t.children,a=n.length,r=0;r<a;r++){for(var i=n[r].children,o=i.length,s=null,c=0;c<o;c++){var l=i[c];if(l.name===e.name){s=i.splice(c,1);break}}if(0===i.length){n.splice(r,1);break}if(s)break}},h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vxe-modal",{attrs:{className:"rDialog-add",width:"600",height:"80%",title:"新增可合并条目","show-footer":"",type:"confirm",value:t.visible,"destroy-on-close":!0},on:{confirm:t.handleOk,cancel:t.handleCancel,close:t.handleCancel}},[n("h4",{staticClass:"rd-h4"},[t._v("请选择可以与"),n("em",[t._v("智能座舱软件功能开发")]),t._v("合并的条目：")]),n("div",{staticClass:"rd-selectArea"},[n("a-input",{attrs:{placeholder:"搜索条目"},on:{change:t.onSearch}}),t.mockData.children.length>0?[n("h5",{staticClass:"rd-h5"},[t._v(t._s(t.mockData.name))]),n("ul",{staticClass:"rd-ul-1"},t._l(t.mockData.children,(function(e,a){return n("li",{key:a,staticClass:"rd-li-1"},[n("h6",{staticClass:"rd-h6",on:{click:function(n){return t.toggle(e)}}},[e.unfolded?n("a-icon",{attrs:{type:"minus-circle",theme:"filled"}}):n("a-icon",{attrs:{type:"plus-circle",theme:"filled"}}),n("span",[t._v(t._s(e.name))])],1),e.unfolded?n("ul",{staticClass:"rd-ul-2"},t._l(e.children,(function(e,a){return n("li",{key:a,staticClass:"rd-li-2"},[n("span",[t._v(t._s(e.name))]),n("a-checkbox",{on:{change:function(n){return t.onChange(e)}}})],1)})),0):t._e()])})),0)]:n("p",{staticClass:"rd-empty"},[t._v("暂无可合并条目")])],2)])},v=[],m=(n("c740"),n("4160"),n("159b"),[]),p={name:"DialogAdd",props:{visible:{type:Boolean,default:!1},row:{type:Array,default:function(){return[]}}},data:function(){return{mockData:d(2,10)}},created:function(){this.mockDataCopy=JSON.parse(JSON.stringify(this.mockData)),this.filteredMockData()},methods:{filteredMockData:function(){for(var t=this.mockData,e=this.row,n=JSON.parse(JSON.stringify(t)),a=e.length,r=0;r<a;r++){var i=e[r];f(n,i)}this.mockData=n},onSearch:function(t){var e=t.target.value;if(""!==e){for(var n=JSON.parse(JSON.stringify(this.mockData)),a=n.children,r=0;r<a.length;r++){for(var i=a[r].children,o=0;o<i.length;o++){var s=i[o];s.name.includes(e)||(i.splice(o,1),o--)}0===i.length&&(a.splice(r,1),r--)}this.mockData=n}else this.mockData=this.mockDataCopy},onChange:function(t){if(t.hasOwnProperty("isChecked")||this.$set(t,"isChecked",!1),t.isChecked=!t.isChecked,t.isChecked)m.push(t);else{var e=m.findIndex((function(e){return e===t}));m.splice(e,1)}},toggle:function(t){console.log(123,t),t.unfolded=!t.unfolded},handleOk:function(){m.forEach((function(t){delete t.isChecked})),this.$emit("ok",m),this.$emit("update:visible",!1),m=[]},handleCancel:function(){this.$emit("update:visible",!1)}}},g=p,b=(n("b459"),n("2877")),k=Object(b["a"])(g,h,v,!1,null,null,null),y=k.exports,_={name:"ResourceConsolidation",components:{DialogAdd:y},data:function(){return{mockData:l(20),visible:!1,rowTarget:{}}},mounted:function(){this.initEvent()},beforeDestroy:function(){this.destroy()},methods:{showModal:function(t,e){this.visible=!0,this.rowTarget=t,this.rowIndex=e},handleOk:function(t){for(var e=t.length,n=this.mockData,a=0;a<e;a++)for(var r=t[a],i=n.length,o=0;o<i;o++){for(var s=n[o],c=s.length,l=null,d=0;d<c;d++){var u=s[d];if(r.name===u.name){l=s.splice(d,1)[0],n[this.rowIndex].push(l);break}}if(s.length||(n.splice(o,1),this.rowIndex>o&&this.rowIndex--),l)break}},remove:function(t,e,n,a){var r=this;this.$confirm({title:"取消合并确认",content:"确认取消该条目的自动合并设置？",onOk:function(){t.splice(a,1),r.mockData.splice(e+1,0,[n])},cancelText:"取消",okText:"确认"})},dragstart:function(t){var e=t.target,n=t.dataTransfer;e&&1===e.nodeType?(this.pos_origin=u(e),this.dragged=e,n.effectAllowed="move"):t.preventDefault()},dragover:function(t){if(this.dragged){var e=t.target;if(this.$refs.resourceConsolidation.contains(e)){var n=Object(c["d"])(e,"rc-li-2");this.dragged!==n&&n.className.includes("rc-li-2")&&(t.preventDefault(),this.pos_target=u(n),n.style.cursor="move")}}},drop:function(t){this.dragged&&(t.preventDefault(),this.move())},move:function(){var t=this.pos_origin,e=this.pos_target,n=Object(s["a"])(t,2),a=n[0],r=n[1],i=Object(s["a"])(e,2),o=i[0],c=i[1],l=this.mockData[a].splice(r,1),d=Object(s["a"])(l,1),u=d[0];this.mockData[o].splice(c+1,0,u),0===this.mockData[a].length&&this.mockData.splice(a,1)},keydown:function(t){var e=t.defaultPrevented,n=t.key;if(!e){switch(n){case"x":this.cut();break;case"v":this.paste();break;default:return}t.preventDefault()}},click:function(t){var e=t.target;if("string"===typeof e.className&&this.$refs.resourceConsolidation.contains(e)){this.ele_o&&this.ele_o.classList.remove("vm-select");var n=this.ele_o=Object(c["d"])(e,"rc-li-2");n.className.includes("rc-li-2")?n.classList.add("vm-select"):this.ele_o=null}},cut:function(){this.ele_o&&(this.removeT(),this.ele_t=this.ele_o,this.removeO(),this.ele_t.classList.add("vm-active"))},paste:function(){var t=document.querySelector(".vm-active"),e=document.querySelector(".vm-select");this.pos_origin=u(t),this.pos_target=u(e),this.move(),this.removeO(),this.removeT()},dblclick:function(t){var e=t.target;this.$refs.resourceConsolidation.contains(e)||(this.removeO(),this.removeT())},removeT:function(){this.ele_t&&this.ele_t.classList.remove("vm-active"),this.ele_t=null},removeO:function(){this.ele_o&&this.ele_o.classList.remove("vm-select"),this.ele_o=null},initEvent:function(){document.addEventListener("dragstart",this.dragstart,!1),document.addEventListener("dragover",this.dragover,!1),document.addEventListener("drop",this.drop,!1),document.addEventListener("keydown",this.keydown,!0),document.addEventListener("click",this.click,!1),document.addEventListener("dblclick",this.dblclick,!1)},destroy:function(){document.removeEventListener("dragstart",this.dragstart,!1),document.removeEventListener("dragover",this.dragover,!1),document.removeEventListener("drop",this.drop,!1),document.removeEventListener("keydown",this.keydown,!0),document.removeEventListener("click",this.click,!1),document.removeEventListener("dblclick",this.dblclick,!1)}}},S=_,C=(n("43ce"),Object(b["a"])(S,i,o,!1,null,null,null)),L=C.exports,x={name:"ResourceConsolidationIndex",components:{ResourceConsolidation:L},methods:{change:function(t){var e=t.target.value;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){for(var t=document.querySelectorAll(".rc-name"),n=t.length,a=null,r=0;r<n;r++){var i=t[r],o=i.textContent;e&&o.includes(e)?(a||(a=i),i.classList.add("rc-highlight")):i.classList.remove("rc-highlight")}a&&a.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}),500)}}},D=x,w=(n("170a"),Object(b["a"])(D,a,r,!1,null,null,null));e["default"]=w.exports},c8c4:function(t,e,n){},faaa:function(t,e,n){var a=n("6f8d");t.exports=function(t,e,n,r){try{return r?e(a(n)[0],n[1]):e(n)}catch(o){var i=t["return"];throw void 0!==i&&a(i.call(t)),o}}},fcd0:function(t,e,n){},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=resourceConsolidation.c05632ca.js.map